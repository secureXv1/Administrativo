import{_ as ce,m as i,p as k,x as fe,c as a,o as r,C as X,a as s,e as C,d as pe,f as c,z as I,t as d,A as w,F as f,g as p,k as F,j as Z,i as me,T as ve,I as j}from"./index-BCF9lOUQ.js";const xe={class:"max-w-9xl mx-auto space-y-6"},be={class:"bg-white border border-slate-200 rounded-xl p-4 space-y-4"},ge={class:"grid gap-4 md:grid-cols-2"},ye={class:"flex flex-wrap items-center gap-3"},ke=["disabled"],Ce={key:0},Ie={key:1},we={key:0,class:"text-xs text-red-500"},Se={key:0,class:"bg-white border border-slate-200 rounded-xl p-4 space-y-4"},he={class:"grid gap-4 md:grid-cols-5"},Ne=["value"],_e=["value"],Ue=["value"],Ve=["value"],Ee={class:"text-xs text-slate-500"},Oe={key:1},Re={key:0,class:"text-sm text-slate-500"},De={key:1,class:"bg-white border border-slate-200 rounded-xl overflow-auto"},Me={class:"min-w-full text-[11px] border-collapse"},Te={class:"bg-amber-500 text-white sticky top-0 z-10"},Ae=["colspan"],Pe={class:"px-3 py-1.5 bg-slate-100 align-top"},Fe=["onClick"],je={class:"mt-1 text-[10px] text-slate-700"},Ge={class:"font-medium"},Le={class:"font-medium"},ze=["title"],$e={key:0,class:"fixed inset-0 z-[2000] flex items-center justify-center"},Be={class:"relative bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[90vh] flex flex-col"},Ye={class:"px-4 py-3 border-b border-slate-200 flex items-center justify-between"},He={class:"text-sm font-semibold text-slate-900"},qe={class:"text-[11px] text-slate-500"},Ke={class:"flex-1 overflow-y-auto p-4 space-y-4"},Qe={class:"flex flex-wrap items-end gap-3 p-3 bg-slate-50 border border-slate-200 rounded-lg"},We={class:"flex-1 min-w-[120px]"},Je={class:"flex-1 min-w-[120px]"},Xe={class:"flex-1 min-w-[150px]"},Ze=["value"],et=["disabled"],tt={class:"space-y-2"},st={class:"flex items-center gap-2 flex-grow"},ot=["onUpdate:modelValue"],lt=["onUpdate:modelValue"],nt=["onUpdate:modelValue"],at=["value"],rt=["onUpdate:modelValue"],dt=["value"],ut={class:"flex items-center gap-2 flex-shrink-0 text-xs text-slate-500"},it={key:0},ct=["onClick"],ft={key:0,class:"text-xs text-slate-500 p-2 text-center border-dashed border rounded-lg"},pt={class:"px-4 py-3 border-t border-slate-200 flex items-center justify-end gap-2"},mt=["disabled"],vt={key:0},xt={key:1},bt={__name:"RestProjectionAdmin",setup(gt){const m=i(""),v=i(""),S=i([]),_=i(!1),U=i(!1),h=i(""),B=i([]),g=i([]),V=i(""),E=i(""),O=i(""),R=i(""),D=i(""),x=i(null),b=i([]),u=i({from:"",to:"",state:"",destUnitId:null}),N=i(!1);i([]);const ee=["","NC","CS","CE","PR","VC","SR","FR"],G={"":"",NC:"SIN NOVEDAD",CS:"COMISIÓN DEL SERVICIO",CE:"COMISIÓN DE ESTUDIOS",PR:"PERMISO",VC:"VACACIONES",SR:"SERVICIO",FR:"FRANCO"},te=k(()=>{const o={};for(const[e,t]of Object.entries(G))e&&(o[t]=e);return o});async function se(){try{const[o,e]=await Promise.all([j.get("/rest-planning/groups"),j.get("/rest-planning/units")]);B.value=o.data||[],g.value=e.data||[]}catch(o){console.error("Error cargando catálogos",o)}}const oe=k(()=>[...new Set(S.value.map(e=>e.state))].sort()),Y=k(()=>S.value.filter(o=>{const e=o.destUnitId??o.dest_unit_id??null;if(V.value&&o.agentGroupId!==Number(V.value)||E.value&&o.unitId!==Number(E.value)||O.value&&e!==Number(O.value)||R.value&&o.state!==R.value)return!1;if(D.value){const t=D.value.toLowerCase(),l=String(o.agentCode||"").toLowerCase(),n=String(o.agentNickname||"").toLowerCase();if(!l.includes(t)&&!n.includes(t))return!1}return!0})),H=k(()=>{const o=new Map;for(const e of Y.value)o.has(e.agentId)||o.set(e.agentId,{agentId:e.agentId,agentCode:e.agentCode,agentNickname:e.agentNickname,unitName:e.unitName,agentGroupId:e.agentGroupId,segments:[]}),o.get(e.agentId).segments.push(e);for(const e of o.values())e.segments.sort((t,l)=>t.start_date.localeCompare(l.start_date));return Array.from(o.values()).sort((e,t)=>String(e.agentCode||"").localeCompare(String(t.agentCode||"")))});function le(o){const e=new Set;for(const t of o.segments){const l=t.destUnitId??t.dest_unit_id??null;l&&e.add(l)}if(!e.size)return"Sin cambio";if(e.size===1){const t=[...e][0],l=g.value.find(n=>n.id===t);return l?l.name:`Unidad ${t}`}return"Varias"}const M=o=>{const[e,t,l]=String(o||"").split("-").map(Number);return!e||!t||!l?null:new Date(e,t-1,l)},ne=o=>{const e=o.getFullYear(),t=String(o.getMonth()+1).padStart(2,"0"),l=String(o.getDate()).padStart(2,"0");return`${e}-${t}-${l}`},T=k(()=>{const o=[];if(!m.value||!v.value)return o;const e=M(m.value),t=M(v.value);if(!e||!t||isNaN(e.getTime())||isNaN(t.getTime())||t<e)return o;for(let l=new Date(e);l<=t;l.setDate(l.getDate()+1))o.push({date:ne(l),day:l.getDate()});return o}),q=k(()=>{const o=new Intl.DateTimeFormat("es-CO",{month:"short",year:"numeric"}),e=[];let t=null,l=null,n=-1;for(const y of T.value){const z=new Date(y.date+"T00:00:00"),$=`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}`;if($!==t){t=$,n++;const ie=o.format(z).replace(".","").toUpperCase();l={key:$,label:ie,colspan:1,index:n},e.push(l)}else l.colspan++}return e});function K(o){const e=["bg-amber-200 text-amber-900","bg-indigo-200 text-indigo-900","bg-emerald-200 text-emerald-900","bg-rose-200 text-rose-900","bg-sky-200 text-sky-900","bg-purple-200 text-purple-900"];return e[o%e.length]}async function Q(){if(h.value="",_.value=!1,S.value=[],x.value=null,!m.value||!v.value){h.value="Seleccione un rango de fechas (desde y hasta).";return}U.value=!0;try{const o={from:m.value,to:v.value},{data:e}=await j.get("/rest-planning",{params:o});S.value=e.items||[],_.value=!0}catch(o){console.error("Error consultando proyección",o),h.value="No se pudo cargar la proyección."}finally{U.value=!1}}function L(o,e){const t=o.segments.find(y=>e>=y.start_date&&e<=y.end_date),l=t?String(t.state||""):"",n=l.toUpperCase();return l?n==="NC"||n.includes("SIN NOVEDAD")?{code:"NC",full:"SIN NOVEDAD"}:n==="CS"||n.includes("COMISION DEL SERVICIO")||n.includes("COMISIÓN DEL SERVICIO")?{code:"CS",full:"COMISIÓN DEL SERVICIO"}:n==="CE"||n.includes("COMISION DE ESTUDIOS")||n.includes("COMISIÓN DE ESTUDIOS")?{code:"CE",full:"COMISIÓN DE ESTUDIOS"}:n==="PR"||n.includes("PERMISO")?{code:"PR",full:"PERMISO"}:n==="VC"||n.includes("VACACION")?{code:"VC",full:"VACACIONES"}:n==="FR"||n.includes("FRANCO")?{code:"FR",full:"FRANCO"}:n==="SR"||n.includes("SERVICIO")&&!n.includes("COMISION")?{code:"SR",full:"SERVICIO"}:{code:"",full:l}:{code:"",full:""}}function W(o){switch(o){case"NC":return"bg-sky-700 text-white border-sky-900";case"CS":return"bg-emerald-500 text-white border-emerald-700";case"CE":return"bg-amber-400 text-slate-900 border-amber-600";case"PR":return"bg-amber-200 text-slate-900 border-amber-400";case"VC":return"bg-red-500 text-white border-red-700";case"SR":return"bg-orange-500 text-white border-orange-700";case"FR":return"bg-cyan-400 text-slate-900 border-cyan-600";default:return"bg-slate-100 text-slate-500 border-slate-300"}}function A(o,e){const t=M(o),l=M(e);if(!t||!l||isNaN(t.getTime())||isNaN(l.getTime())||l<t)return null;const n=l.getTime()-t.getTime();return Math.floor(n/(1e3*60*60*24))+1}const J=k(()=>{if(!u.value.from||!u.value.to)return!1;const o=A(u.value.from,u.value.to);return o!==null&&o>0});function ae(o){x.value=o,b.value=o.segments.map(e=>({from:e.start_date,to:e.end_date,state:e.state,destUnitId:e.destUnitId??e.dest_unit_id??null,destGroupId:e.destGroupId??e.dest_group_id??null})),u.value={from:m.value,to:v.value,state:"",destUnitId:null}}function P(){x.value=null,b.value=[]}function re(){!J.value||!u.value.state||(b.value.push({from:u.value.from,to:u.value.to,state:u.value.state,destUnitId:u.value.destUnitId||null,destGroupId:null}),u.value={from:"",to:"",state:"",destUnitId:null},b.value.sort((o,e)=>o.from.localeCompare(e.from)))}function de(o){b.value.splice(o,1)}async function ue(){if(x.value){N.value=!0;try{const o=b.value.filter(t=>t.from&&t.to&&t.state&&A(t.from,t.to)!==null).sort((t,l)=>t.from.localeCompare(l.from));if(o.length)for(let t=0;t<o.length-1;t++){const l=new Date(o[t].to);if(new Date(o[t+1].from).getTime()<=l.getTime()){alert("Error: Los rangos de proyección se superponen o son contiguos, y no están ordenados correctamente. Por favor, revísalos."),N.value=!1;return}}const e={from:m.value,to:v.value,items:[{agentId:x.value.agentId,segments:o.map(t=>{const l=t.destUnitId||null,n=l?g.value.find(y=>y.id===l):null;return{from:t.from,to:t.to,state:t.state,destUnitId:l,destGroupId:n?n.groupId:t.destGroupId||null}})}]};await j.post("/rest-planning/bulk",e),await Q(),P()}catch(o){console.error("Error guardando proyección",o),alert("Vigencia de gatos vigente no se puede modificar la proyección")}finally{N.value=!1}}}return fe(()=>{se()}),(o,e)=>(r(),a("div",xe,[e[36]||(e[36]=X('<div class="sticky top-0 z-10 bg-white/70 backdrop-blur border-b border-slate-200" data-v-552d4636><div class="max-w-9xl mx-auto px-4 py-3 flex items-center justify-between" data-v-552d4636><div class="flex items-center gap-3" data-v-552d4636><div class="w-9 h-9 rounded-xl bg-gradient-to-br from-slate-800 to-slate-700 grid place-items-center text-white font-bold" data-v-552d4636>G</div><div data-v-552d4636><h2 class="font-semibold text-slate-900" data-v-552d4636>Proyección general de descanso</h2><p class="text-slate-500 text-xs" data-v-552d4636>Vista para administrador, supervisión y líder de grupo (todas las unidades)</p></div></div></div></div>',1)),s("section",be,[s("div",ge,[s("div",null,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-slate-700 mb-1"}," Desde ",-1)),c(s("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[I,m.value]])]),s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-slate-700 mb-1"}," Hasta ",-1)),c(s("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[I,v.value]])])]),s("div",ye,[s("button",{type:"button",class:"inline-flex items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 disabled:opacity-60 disabled:cursor-not-allowed",onClick:Q,disabled:U.value},[U.value?(r(),a("span",Ie,"Cargando…")):(r(),a("span",Ce,"Consultar proyección"))],8,ke),e[12]||(e[12]=s("p",{class:"text-xs text-slate-500"}," Selecciona un rango de fechas (idealmente un mes) para ver la matriz. ",-1))]),h.value?(r(),a("p",we,d(h.value),1)):C("",!0)]),_.value&&S.value.length?(r(),a("section",Se,[e[22]||(e[22]=s("h2",{class:"text-sm font-semibold text-slate-800"}," Filtros sobre la consulta actual ",-1)),s("div",he,[s("div",null,[e[14]||(e[14]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Grupo ",-1)),c(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>V.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},[e[13]||(e[13]=s("option",{value:""},"Todos",-1)),(r(!0),a(f,null,p(B.value,t=>(r(),a("option",{key:t.id,value:t.id},d(t.name),9,Ne))),128))],512),[[w,V.value]])]),s("div",null,[e[16]||(e[16]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Unidad actual ",-1)),c(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>E.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},[e[15]||(e[15]=s("option",{value:""},"Todas",-1)),(r(!0),a(f,null,p(g.value,t=>(r(),a("option",{key:t.id,value:t.id},d(t.name),9,_e))),128))],512),[[w,E.value]])]),s("div",null,[e[18]||(e[18]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Unidad proyectada ",-1)),c(s("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>O.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},[e[17]||(e[17]=s("option",{value:""},"Todas",-1)),(r(!0),a(f,null,p(g.value,t=>(r(),a("option",{key:t.id,value:t.id},d(t.name),9,Ue))),128))],512),[[w,O.value]])]),s("div",null,[e[20]||(e[20]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Estado ",-1)),c(s("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>R.value=t),class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},[e[19]||(e[19]=s("option",{value:""},"Todos",-1)),(r(!0),a(f,null,p(oe.value,t=>(r(),a("option",{key:t,value:t},d(t),9,Ve))),128))],512),[[w,R.value]])]),s("div",null,[e[21]||(e[21]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Buscar funcionario ",-1)),c(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>D.value=t),type:"text",placeholder:"Código o alias",class:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[I,D.value]])])]),s("p",Ee,d(H.value.length)+" funcionarios · "+d(Y.value.length)+" tramos proyectados. ",1)])):C("",!0),_.value?(r(),a("section",Oe,[S.value.length?(r(),a("div",De,[s("table",Me,[s("thead",Te,[s("tr",null,[e[23]||(e[23]=s("th",{class:"px-3 py-2 text-left font-semibold w-56",rowspan:"2"}," FUNCIONARIO ",-1)),(r(!0),a(f,null,p(q.value,t=>(r(),a("th",{key:t.key,class:F(["px-1 py-1 text-center font-semibold text-black",K(t.index)]),colspan:t.colspan},d(t.label),11,Ae))),128))]),s("tr",null,[(r(!0),a(f,null,p(T.value,(t,l)=>(r(),a("th",{key:t.date,class:F(["px-1 py-1 text-center font-semibold min-w-[24px] text-black",K(q.value.findIndex(n=>t.date.startsWith(n.key)))])},d(t.day),3))),128))])]),s("tbody",null,[(r(!0),a(f,null,p(H.value,t=>(r(),a("tr",{key:t.agentId,class:"border-t border-slate-200"},[s("td",Pe,[s("button",{type:"button",class:"font-semibold text-sky-700 hover:underline block text-left truncate",onClick:l=>ae(t)},d(t.agentNickname||"Sin alias"),9,Fe),s("div",je,[s("div",null,[e[24]||(e[24]=Z("Act.: ",-1)),s("span",Ge,d(t.unitName||"—"),1)]),s("div",null,[e[25]||(e[25]=Z(" Proy.: ",-1)),s("span",Le,d(le(t)),1)])])]),(r(!0),a(f,null,p(T.value,l=>(r(),a("td",{key:l.date,class:"px-0.5 py-0.5 text-center"},[T.value.length?(r(),a("div",{key:0,class:F(["w-6 h-6 rounded-sm flex items-center justify-center border text-[10px]",W(L(t,l.date).code)]),title:L(t,l.date).full},d(L(t,l.date).code),11,ze)):C("",!0)]))),128))]))),128))])])])):(r(),a("div",Re," No hay proyección en el rango seleccionado. ")),e[26]||(e[26]=X('<div class="mt-3 flex flex-wrap gap-2 text-[11px] text-slate-700" data-v-552d4636><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-sky-700" data-v-552d4636></span> NC — SIN NOVEDAD </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-emerald-500" data-v-552d4636></span> CS — COMISIÓN DEL SERVICIO </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-amber-400" data-v-552d4636></span> CE — COMISIÓN DE ESTUDIOS </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-amber-200" data-v-552d4636></span> PR — PERMISO </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-red-500" data-v-552d4636></span> VC — VACACIONES </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-orange-500" data-v-552d4636></span> SR — SERVICIO </div><div class="flex items-center gap-1" data-v-552d4636><span class="w-4 h-4 rounded-sm border bg-cyan-400" data-v-552d4636></span> FR — FRANCO </div></div>',1))])):C("",!0),pe(ve,{name:"fade"},{default:me(()=>[x.value?(r(),a("div",$e,[s("div",{class:"absolute inset-0 bg-black/40",onClick:P}),s("div",Be,[s("div",Ye,[s("div",null,[s("h2",He," Proyección — "+d(x.value.agentNickname||"Sin alias"),1),s("p",qe,d(x.value.agentCode)+" · "+d(x.value.unitName)+" · Rango: "+d(m.value)+" → "+d(v.value),1),e[27]||(e[27]=s("p",{class:"text-[11px] text-slate-500 mt-0.5"}," Click en un día para cambiar el estado. ",-1))]),s("button",{type:"button",class:"p-1.5 rounded-full hover:bg-slate-100",onClick:P},e[28]||(e[28]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"size-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",Ke,[s("div",Qe,[s("div",We,[e[29]||(e[29]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Desde",-1)),c(s("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=t=>u.value.from=t),class:"w-full rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[I,u.value.from]])]),s("div",Je,[e[30]||(e[30]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"},"Hasta",-1)),c(s("input",{type:"date","onUpdate:modelValue":e[8]||(e[8]=t=>u.value.to=t),class:"w-full rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[I,u.value.to]])]),s("div",Xe,[e[32]||(e[32]=s("label",{class:"block text-xs font-medium text-slate-700 mb-1"}," Unidad proyectada (opcional) ",-1)),c(s("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>u.value.destUnitId=t),class:"w-full rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},[e[31]||(e[31]=s("option",{value:null},"Sin cambio",-1)),(r(!0),a(f,null,p(g.value,t=>(r(),a("option",{key:t.id,value:t.id},d(t.name),9,Ze))),128))],512),[[w,u.value.destUnitId,void 0,{number:!0}]])]),s("button",{type:"button",class:"inline-flex items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-xs font-medium text-white hover:bg-sky-700 disabled:opacity-60",onClick:re,disabled:!u.value.from||!u.value.to||!u.value.state||!J.value}," Añadir rango ",8,et)]),e[35]||(e[35]=s("h3",{class:"text-sm font-semibold text-slate-800"}," Línea de tiempo de proyección ",-1)),s("div",tt,[(r(!0),a(f,null,p(b.value,(t,l)=>(r(),a("div",{key:l,class:"flex items-center gap-3 p-3 border border-slate-200 rounded-lg bg-white"},[s("div",{class:F(["size-3 rounded-full flex-shrink-0",W(te.value[t.state]||"")])},null,2),s("div",st,[c(s("input",{type:"date","onUpdate:modelValue":n=>t.from=n,class:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 w-[120px]"},null,8,ot),[[I,t.from]]),e[34]||(e[34]=s("span",null,"—",-1)),c(s("input",{type:"date","onUpdate:modelValue":n=>t.to=n,class:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 w-[120px]"},null,8,lt),[[I,t.to]]),c(s("select",{"onUpdate:modelValue":n=>t.state=n,class:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 w-[180px]"},[(r(!0),a(f,null,p(ee.slice(1),n=>(r(),a("option",{key:n,value:G[n]},d(G[n]),9,at))),128))],8,nt),[[w,t.state]]),c(s("select",{"onUpdate:modelValue":n=>t.destUnitId=n,class:"rounded-lg border border-slate-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 w-[150px]"},[e[33]||(e[33]=s("option",{value:null},"Sin cambio",-1)),(r(!0),a(f,null,p(g.value,n=>(r(),a("option",{key:n.id,value:n.id},d(n.name),9,dt))),128))],8,rt),[[w,t.destUnitId,void 0,{number:!0}]])]),s("div",ut,[A(t.from,t.to)!==null?(r(),a("span",it,d(A(t.from,t.to))+" día(s) ",1)):C("",!0),s("button",{type:"button",onClick:n=>de(l),class:"text-red-500 hover:text-red-700 font-medium ml-2"}," Quitar ",8,ct)])]))),128)),b.value.length?C("",!0):(r(),a("div",ft," No hay rangos de proyección definidos. "))])]),s("div",pt,[s("button",{type:"button",class:"px-3 py-1.5 rounded-lg border border-slate-300 text-xs text-slate-700 hover:bg-slate-100",onClick:P}," Cancelar "),s("button",{type:"button",class:"px-4 py-1.5 rounded-lg bg-sky-600 text-xs font-medium text-white hover:bg-sky-700 disabled:opacity-60",disabled:N.value,onClick:ue},[N.value?(r(),a("span",xt,"Guardando…")):(r(),a("span",vt,"Guardar proyección"))],8,mt)])])])):C("",!0)]),_:1})]))}},kt=ce(bt,[["__scopeId","data-v-552d4636"]]);export{kt as default};
